-- migration script
-- from PCSD 1.6 or 1.7
-- to PCSD 1.8+
CREATE TABLE [dbo].[PrimaryPresences] (
    [userId] [nvarchar](128) NOT NULL,
    [startTime] [datetime2](7) NOT NULL,
    [endTime] [datetime2](7) NOT NULL,
    [systemPresence] [nvarchar](128) NOT NULL,
    [organizationPresenceId] [nvarchar](128),
    CONSTRAINT [PK_dbo.PrimaryPresences] PRIMARY KEY ([userId], [startTime], [systemPresence])
)
CREATE TABLE [dbo].[RoutingStatus] (
    [userId] [nvarchar](128) NOT NULL,
    [startTime] [datetime2](7) NOT NULL,
    [endTime] [datetime2](7) NOT NULL,
    [routingStatus] [nvarchar](128) NOT NULL,
    CONSTRAINT [PK_dbo.RoutingStatus] PRIMARY KEY ([userId], [startTime], [routingStatus])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201808191245241_AutomaticMigration', N'pcsd.plugin.sql.Migrations.Configuration',  0x1F8B0800000000000400ED5DDB721BB9117D4F55FE81C5A764B32B4A762AD9B8A4DDF2CAF6962A96AD88F6266FAE1107A2273B9CA1E7E29536952FCB433E29BF1060AE0DA0711B8243CAE28B4AC4E500E86EDC1B67FEF79FFF9E7E7FB78A279F4996476972363D393A9E4E48B248C328599E4DCBE2F69B6FA7DF7FF7DBDF9CBE0C5777939FDA744F593A9A33C9CFA61F8B62FD6C36CB171FC92AC88F56D1224BF3F4B6385AA4AB5910A6B327C7C77F999D9CCC08859852ACC9E4F4BA4C8A6845AA1FF4E7799A2CC8BA2883F8320D499C37E134665EA14EDE042B92AF8305399BAE177978B48ECB65941CE59FE2A317411154B9A693E77114D00ACD497C3B9D044992164141ABFBEC7D4EE6459626CBF99A0604F1BBFB35A1E96E8338274D339EF5C96D5B74FC84B568D6676CA116655EA42B47C093A78D886662F641829E7622A4427C49855DDCB35657823C9B9E07AB75102D29B458D8B3F338630935723E7A112D58D220BB3F6A81BE9E08C9BFEE6CE5E4881AD5D1F1D793F3322ECA8C9C25A42CB280A6B82A6FE268F15772FF2EFD9924674919C7B0DAB4E2348E0BA0415759BA2659717F4D6E9BC644E17432E3F3CDC48C5D3690A76E26350C6AEAD3C96570F79A24CBE223ED044FBE9D4E5E4577246C431A4B799F44B467D04C4556D29F6F6885839B9874F1336D9909FDAB2995FE6B552A2CE474D6AB56AFF034298245F13ACA8BCD75DE631DD4BEF76A67437BA5E5E7CB65469641418619000A95E3C1BB348B1509A3803546D40B9AFA53494A722159126E704941B2CF41FCBE5858A55F11AA6D29A9D948410BC6B6D54E1C6317CCC976ECC25B45EDAAD1F322C88AD7E92288DB3AD06E47DE45ABE1902F93D00FE022A52BB516E522299E3E314A930D684DA929EDD366F147895B86BC5CE9320C1A1D371F14B91FBB1C0117A01EF2D0661E7FC4FC63770B587ED5356423B607A01DC198FD4DF0395A56A905A0352D3C5A44EB2029F2E9E49AC455A2FC63B4AE37199CCA3FF0A95F65E9EA3A8D0533E3127D98A765B660C37C6A4AF92EC896A41868E7573D9207330768BBB4F2EBF49721C6DD64EBC6B33FFD11B14F209D799166E44792908C5A4F781514747CA51BBA8B90545236992250A2B62B0D59056A4B7BE37FD5299757E6241BA35965B64EF3ED3787DC31E50671B3C119A1656D896FB3659044BF9A87DC81C52A47B89CE4ACBBE2A31BE8E91FFA84FDC086C54B631A9A68A3E16C5EA37818CA1AA4C330665E219BB7247E7A44632223F4BD200C335AD8DBE223C9C62AAC3E99DC765949B4F532C228238B7ADDBCED929228DF7A216959DCD08D4ED81E678E607E5D91A34D364289ECFC6E8452C328A79377549D0FD199EEFED7117A1B28739475100997FA53133FC56464951684FDFF8236300EEE836AEFBBED52D3743542E3566912B1492A9C8F360374455E8DBA4A5F04717C132C7E7E4F57CFA398675B20BB4B0BCB9884F52ED86D539D2FB2683D8678F29FA3F5CB84997657D60F295D4A06892927BB51A483DC9C2CD224CCC1EAC87C68B5486FB2F4979CB035EBF6F5D115364ECF628BB71FB2689C418ADA0921C9FC639091E7232E7A725A20459E57A53BDA0DA8F2482AF91C85241DB3ACADAA42B3BB5CAE88EAECAC19E73FF489FA9DA51827ED2AA5041BEE282B142F3BCA0AE9B0A334EFF32A410D3ADF6DF2DA1CED3ADF6FF9E973BF64C1FAFDFA9CA61FA9A8376931C23237CBD26C9446D1053C9DC313BAC51CE9D0A132A851CACA0835C29C7699D741B22C8371E6E46AF43CB7BDD7F1A443DACA28A94A1BB9E4BAB9E3ED23404BC72B94F68F5B929164411C573BCB2C2DD76368A1BCF927EDC0DB3FEE2AC328BD2C0BE7ED42B530B2CAA8BE20AC7F4644B5C4A9C6950F30195CE488B1C832474A822D747455A4DA2ED8C2F8E7288EF5B51452CA15E51228EBCAA7DAECE2B2698A8F5BCB06EAB03233DEB6353F47990DD79D86B7BD0B0AE2D27773ACEDF81A74090FB60CE10EF66CD2FC75BBE08262F33EFF59DBC2CB70499726D967760CBEA1236E0F75F0C3DD6F3FDC8BC62D6F98CADBDCDD3FBB54775B07CCC5D6AC783E77A30CB6088111B9B36E5F07797121BB905A7A3D5AABB1DDB26DDC735BA043BFDDEF7EFB3659A6B440CF8EA208EAC15F74B881AC4BD6F7D3771FC90FC112EDFD9B7A4D3E2F8A81B3B50022FEDE5FB5A359046F468B1C74B1D6DC713E38ABB2BC13DE52F1BDE07651F24FBBDC2D5D652467E75A2FC86D94544E1CF9C6132E8279987B7732F7220785F77477B66A35B43BAB8B56D452FA6A0CB138E6D2F182144114E74702E02ECDADF5D3B618B0737621875DA5E1A905D5B9DAB4D1817C4B760D5AE9B453D8C078B7D4129228BC791C7152E081DEB6C68B660675C6BFB17BDA8D07FD0AE530CCEFF716AB3D95A31A2E07CEF370D4E5E0BEC83137E305F6F8865C41000F63C4B5F7451A7E490086BE9DDF0D1C863EB3AAD9B8B5212B030791F33F1FC8E8E78756014DFAA90CE2E83662572D0F65987C944408404FBB92F73E7330F8E23B60A3C3C6330B03394C2CFB3DB1FC1DB89F6EA8EE1EEAA0F43D537AB9426E989BFBD38BFC551C2C7B8E3B2FD7CE7FE00AF1660FB4F521C9E27B2AADCE27E4E913C14C2EC9EA8664E0BA37EAAED4ABC3EAB3E9B1A41C294F5BFF57295834750027B2E06B11C3C0E7799E2EA24A86FCE301E8E4C75783CE0313B3C75F7F15DEBD46B8A4D28BD6545E54FDB47D4747275213B5D8ADEF1DC0EE3DEA78F0AFC4B68376DA359FF71E34D552E14AE84B08B80F2280E73DB2FCC94278D2A2AEA7EA7D0B94404373E02801C5C318B36C87B71B258A50D550CF1A014C15B2D638C9404B396196F07039A8E9805455B5E006EAEBCBBB213889C4CC2C6427795BD9D47356F5D23C4ABA3198CD2D3741CE5E2214E40E7B6F455797CDCC943793A1D822863B27452BF1E6C13E1DC5FB69B2155747722A894500E91FC4A338903BD30C85B024E2A01833A303BC09D50876C5F15549589C1518A0E61D3B8C04D375322344FB0C108168C62B5383809BBDDC9C6EE633A05CF36EF012103F7518C07A174D0C0AFA821A80DAA50B06D37B171A405AB7330CA4F76D3380A03E51121C9ACADE2099738CC1286BA71CA34920BE04886D20A98CC8C27D31822AA4302056D75558F59ADB304BBB6D8EC595768BDF1B48DD5165FE7676CF9F4B2230C2D9A7059C0AC598B9DFC2621070AF2C0081B94D1AA7B8373D20A1FAE58FB8CBB5DA16746D8103A474F269B50B005070A014B7D57CA31D04223C1F52CB44B35370D82B0C950CBE350068C2F8EF413EE23B774C34BA8D83DDD68113483B1D6B05A2D82958487680187032395914E6BD84FD6E029A3CB7D8D18845BB79B090F100D168584465F958EE311C7719A061C21A53232AF3A6C252011A99B5C75FDD56A28B3B9DD5DF8668024E678A8F489C5E06EB35EDD0E0A3124DC8645E7F51E2FC9BB9FB37165635C66CC1095EDCF874251569461757422C1361485E45595EB45BA3E9E43C5C49C9C48D9362C26B4B13F746B20ADB49B0CDC1FE6FFC5ED53EECED7E4A80EB05FA8AB6918D17557309B42965D609FBC447100719727A7B9EC6E52A519D00EB72D7E7B0307F823821D76623D45D94D54C129660BAA2F4ED7403B79C9ED403B6A90334A4CBFD7895846DE6BDA90B390018A4381B1C951200B327D484E62B0A6AAC8E5D052229BFB0A0312B7807CED997CE5540D7C6FA5A9B6F20EE4560AE15BC29C62A07E3DDD1FB4B630CBB8FB5476E18FC215C13E420417671C5898F0538E46714FF5CFE483A0ED0E5AF6EC061FE2A602F078A6D8C0F1B0E0BF6A381F8E886371AFD7B213BD486F04905DC440FC3AE08A154C855E4DE58CC957EE13EC460E079ADBBBD6873AB84DFBCE487224739017418C23B2B8865786E6685F9465A644891F6B8AD5318845379BA696AD7D2D973B56A03ED7110BA7A888844BB638BC4F45801629ABDE96473F5F1C1900ED6DE64B8772E65CE6D762C9F2B3BC0CACECDC27DB03D16CFBB0EE1F81867C49ADC1201AC231CF018813A87C302ECF30372748802821DB02AFA730EA60AB147C0B8CD211E163F001D1F8490E8C1D82D61B906BF4DE2A22B849E9CD71A926010BE3C1549910E0374C3E6CB0DC84D983D8A82511C822A923894D1D0DC72A04D98C36886D08373C31A123F00FD4ABD1A51A57158AB4AC4DFDC62558A75471618BE31782189C31CD0118073534017EA800419BE393018618F27F27E434831CE65670129C1F96D058C198228F70831CE719EEFE9BDA5B9BE8F72D2354AE22D681E4DE3500ACFD9CD81F351836A8E891989B6C7E658BB212A17E188A794AF1CBB470B6BE535E5B08575EDDF336461ADC8B9CD85354F5DCDAF87618C33A2747E01C3C73F868524D610EA17A5C78419ADE6A996D1EA7087E54F4F45CDAD80FA60A7251A47362DACD0B838679DCA905C84CB520DE18DE6176A480287FAA21CD15CC5D1140E7256134273225727736D8D62AD28450E6A83021C4FE174A0D9F13A0B67995DB83D5A47F60CA1BA409703F886CC993F846F021DB6D680AC99DB618370C709144183E17B336902A72B4F07BEAD47EB80D35E65D6AD1EF5363FE531918F7147C4D19C4CA966BCE2ACA80EDA1B03BA36F8CD0DB121CE99D9DD8EF4D9B7694B4A565F0E5595686F740AFDC3FD6814F894BBEB5397F9913A81F48EF77EF4D339EBBB6B479D55255D9E6E174A5947E3AB4394987621A814B9375AEC5F3EF8D162F75AC25D8BEAAC8FB487614F45FC68C902D942615628E37A54C894B7FC5DB218BB37BA969EF878F77DA89E056DE4FF80238CACE02D7845F494B2DCCE4BC1D06B42FA495E3083E0FD3138E46997AFED9711D96A276681B2EB8941792A20905F7287035A6AD09D5A04FF2CCF97356851AD2CC180A0D2821FAF24C0CFC7A951CD4DB82DBB509EF926C8B56617E8E056A0A03AE5FC0A1469F6C68A9BC7A27E8CB77E60EA6EB28A7CBB1EAE767C3E533FB0F57B3E83623A1CD028F23F9C214520FDE49D49340F9B7598AE03CAAE6E5B7D1EF80D3DE9733CE2FBC2BBBAF0BCDD8F6AF827F1EE2A32E4DF6E5FDFCF373B805892BF0C57F082DAB4F0A1BDFFD9F3B73335B583BF1E34B0E31C86B6A682902DC38F5600C386BB6E7499BF740DF18FE251172C8E86C4C1D78ACB677B3BCC9EFE0BC2525397C8D2B2BD0B6C311577824C6A5D3506D5B06127185EC321353B4F93B03ADF995CE48C55B4A3E6B46EBAC89230D86604A61617B311B2BADC076B748332BCEC9B01A1C4318FD08644361B87A7532097A52727AA0F9C0067137BA9117DD90BCEABB397A6A269F8C6A68233FE385EE7809C96AFEA1095E8488286AB05A2FA311D1DF7D01E9A8F51001B9B908619C9F50DBD90DDE1FD33A22823A192A5B67497875C19C68F75BA199A91B9690FADCD411E66BB9368A5C424DDDABE09E97E77B4520DA513C73555C989314755F2C91B7A2991E3A94E329D5071304FD58C0E65D5A54865B947F34FF1791CB1B9B04B701924D12DC98B9A347DFAE4F8F8DBE9E4791C05794D0AD6B0573D13E974ADE8AC4E9E323A2B12AE66627677522C8692E721B7F6933F4F80B3418DF12580E473902D3E0699FC2D800D88FE5BD0DFAD82BBDF43A40DBEE0A0A4633A4889979289FBC84E5E9A47F1E86785146F69B6F67523B3F6400B3C2BB16BAD675CE44B47DEB0F90F1979AFB2FCB1A0901A5EE1F3634183011B6EA71A2562FFEABA1A223AC6EC54E7BE8DD3C03D3F6376DA203FF8D89145FE414385FFAFA50FFD9CB937CB443894D47664A306893AC905CEFEA3CBAA55B79D52149B0E932E9A6C758B6EA265D54BAA0DC18F842E056913C3ABA060E43667D38B905495F6F3FD788749508BF866D8C42A63F29FB9DBAC7A2D8391072C84BBC823AA4858E4015ABB3911FBBAF4D58B8B24247767D37F5560CF2617FFF8A0C1FB7AF236A37B826793E3C9BF75E3C606DD123D5979F85D52B9461AA472407EE4018DE73EF207586F0F7DE0310E240F388005C9075A4586E401086341F209EB752053B01E79D10EC276E417D7DBDCD5D21D798052901CF9406E58413C406114473E61AFBCAF58644A238FA00291D166CBDD9EC6C8C7CC00698CDA29CD79232432170DDED1F174453E34207015F930429EA9C8871214F4443EA07972A2C11A46C8883CD48E2323F285E75B84C8D511BFF6B358234B18FCCAD8D34A18B9967EF82B619EA868C3A11390146D86A438691C646090A4C81B5CCD52E463E9D2F314F9595C7124455E363780A4C8CB020B2127F2514F9493C8874CD52C44DEAAED771D87130F7999EE7BE6A1C1735DC739E4437A2DEF908F6D2D201E1ADC38C83734184470C6719E0EB9FC5B980A71AFD0873F17368EA1F7DEC6BA16D0CFEAAB7E4FED0149F00B1C605F20FF16EC4BED3BFAF06D4C4944F408F4AAE2143A78320021E1D43E7622D251F99885C5E7460F19AC242471FF38DD635B0B0A67CF39D812109191AFE68BB8F196496EB67D432DF3C2F810249AC5C0F182E450D1B8EC5E4FBA53E58DD1FB666F01F8A7816B2F8725B581FCE5318C6BC8FE4EA008D9A602349C2B76C2573D9546926A880FB0D45AA214B38671D78E8DB50C1AC10FB84F98BF32594479E578FC6767E08E78C12FACDE983616878A28C6BE980DCC17E15F790C2386F39612613FD971E7D672961CFAB625AC20C58DA4617F2534F480E291743A0D0D89F74EE7C7BB1E4DAAE408D959EF7C800EF340885B12C63EBBE26FC9955DA62B398C3F403C2AC690C72C24F01C5238356E2E2BA4AF52B047A313E631D4FB4034D5613E20DD279B2697655C44EB98EEF08BFBB3E9F1D1D189D4B41EA9BB4282507D208FF5950444B5C4EE218BA8720CCF8B2C8864CE15BAA54BD871432CD45E48677F85C0A4DA818A312FC89AAE6D18718DD0429BE28C3C151DBA6090264170EF5FEDEC20537F5C622BA6C0DDF640383EE20B3009C32736F6D52C04C20EB545D44F05788B68C29C2CC2C1B6BCD981EA83CEDBB00317AB3332928C60022809877264070FB9B8C11D863B9A83B5617932070D05C4D64CC2DE00ADD84646300B35A7864A93DC451454271FE1B69270B7374F5662F898C480EB1F87D585A3853A528878B71E8163A3AB95C08721594EC3CAD2A66FE92226FDE2B6B5A02EAAE6D4A09BB59B941A44BD3E6E63E50336A90840B780940263D182FA04566521A40568A9583A45F97252B79A182A602ED75C1CD737A5D2B858ACB02B8EBFC75056375348E574315819F38E6CCA88DF2C4C10FC2606C76FF9CF4CB2EA3645B2A0BA28544AFD7ECE5406BFD296CAE1A3B1B2F80FD2998A037E40726130122B0A7E27CD5450E74B2317D3476185F49FFA3215D179A1C845F4515811FD77A84C45605E1C7269682AAC6024A1538FAD9C1FB4BDB64E61E8B9F5477FCCD62FDF8B631D014985F70924A1B10AFCCD3056BC90022F9A4B642EB7BED2934B6BC2B1329A4F41D876F7E6B244D9DF9B785D87C76FADA4315231B0684614CBA184BF62904B10E2B1920406779B121505A9F1CDB0E0AC52068791581190A9592C88E73F539FF94D40427E02539E0CE29BF6AE65204C5A6162278120631F289EC0F2CD7168AAC057AB6EADE6FCCB4B83B1C956A6CCF5D1709169156BB3EE7007DF8573CD6DC234CD7510D38046E2FCA07243CD4718EA4D25B44B18AE6DB4B5B006345A436629B7DC7297AED9A78336F011BA5EED2E408D20248EC62EEE74568F874D00FD297131D25D6B99B05BBBFAD70B92D38D6007C11827939A86A2076DD35C24B7693B1409356A9308B73597A40842BA997D4E9B794B3782347AC1F49E2CA793CA89902E60573724BC48DE96C5BA2C6893C9EA26E6063AB6FDD6957F3A93EA7CFA765D2D667C3481563362179D6F931FCA280EBB7ABF423C2514106C266ADE4C542C54ECEDC4F2BE437A932696408DF8BAE3887764B58ED934FD3699079FC990BAD1E9F8359DEA17742556536AAA41CC8AE0C57EFA220A9659B0CA1B8C3E3FFD496D385CDD7DF77FA9F522BA69010100 , N'6.1.3-40302')

